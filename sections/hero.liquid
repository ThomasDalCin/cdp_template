<!-- Hero wrapper section -->
<div class="hero-wrapper w-full h-dvh relative">
  <div class="wrapper-slider w-full h-full absolute overflow-x-hidden left-0 top-0 right-0 z-0">

    <!-- Swiper slider start here -->
    <div class="swiper mySwiper w-full h-full relative">
      <div class="swiper-wrapper">

        <!-- Assegna immagini, CTA e checkbox -->
        {% assign swiper_images = "swiper_image_1,swiper_image_2,swiper_image_3" | split: "," %}
        {% assign cta_texts = "cta_text_1,cta_text_2,cta_text_3" | split: "," %}
        {% assign cta_urls = "cta_url_1,cta_url_2,cta_url_3" | split: "," %}
        {% assign cta_enabled = "enable_cta_1,enable_cta_2,enable_cta_3" | split: "," %}
        {% assign max_index = swiper_images.size | minus: 1 %}

        {% for i in (0..max_index) %}
          {% assign swiper_image = swiper_images[i] %}
          {% assign cta_text = cta_texts[i] %}
          {% assign cta_url = cta_urls[i] %}
          {% assign cta_check = cta_enabled[i] %}
          {% assign image_url = section.settings[swiper_image] | img_url: "master" %}

          {% if image_url %}
            <!-- Swiper slide -->
            <div class="swiper-slide relative">
              <img src="{{ image_url }}" alt="Slide {{ i | plus: 1 }}" class="swiper-img w-full h-full object-cover block">

              <!-- Condition cta -->
              {% if section.settings[cta_check] or section.settings[cta_url] %}
                <div class="w-full h-auto absolute left-0 bottom-14 right-0 px-4">
                  <a href="{{ section.settings[cta_url] }}">
                    <div class="w-full h-[56px] bg-white flex items-center justify-center rounded-xl font-semibold">
                      <p class="body-16">{{ section.settings[cta_text] }}</p>
                    </div>
                  </a>
                </div>
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>

      <!-- Container swiper bullets -->
      <div class="container-swiper-pagination w-full h-auto absolute left-0 right-0 bottom-6 z-10 flex items-start justify-center lg:left-6 lg:top-[150px] lg:flex lg:flex-col lg:gap-y-6 lg:items-center lg:justify-center">
        <!-- Container bullets -->
        <div class="w-auto h-auto">
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Initialize Swiper -->
<script>
  var swiper = new Swiper(".mySwiper", {
    effect: 'fade',
    fadeEffect: {
      crossFade: true
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true
    },
    loop: true
  });
</script>

<!-- Swiper Custom Style -->
<style>
  .swiper-pagination-bullet.swiper-pagination-bullet-active {
    width: 24px !important;
    height: 2px !important;
    border-radius: 2px !important;
    background-color: white !important;
  }
  .swiper-pagination-bullet {
    width: 8px !important;
    height: 2px !important;
    border-radius: 2px !important;
    background-color: white !important;
  }

  .hero-wrapper {
  transition: height 0.2s ease-in-out;
}

</style>

{% comment %}
Section Schema Settings here
{% endcomment %}
{% schema %}
{
  "name": "hero-section",
  "settings": [
    {
      "type": "image_picker",
      "id": "swiper_image_1",
      "label": "Swiper Image 1",
      "info": "Choose the Swiper Image"
    },
    {
      "type": "image_picker",
      "id": "swiper_image_2",
      "label": "Swiper Image 2",
      "info": "Choose the Swiper Image"
    },
    {
      "type": "image_picker",
      "id": "swiper_image_3",
      "label": "Swiper Image 3",
      "info": "Choose the Swiper Image"
    },
    {
      "type": "checkbox",
      "id": "enable_cta_1",
      "label": "Enable CTA for Slide 1",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text_1",
      "label": "CTA Text 1",
      "info": "Text for CTA of Slide 1"
    },
    {
      "type": "url",
      "id": "cta_url_1",
      "label": "CTA URL 1",
      "info": "URL for CTA of Slide 1"
    },
    {
      "type": "checkbox",
      "id": "enable_cta_2",
      "label": "Enable CTA for Slide 2",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text_2",
      "label": "CTA Text 2",
      "info": "Text for CTA of Slide 2"
    },
    {
      "type": "url",
      "id": "cta_url_2",
      "label": "CTA URL 2",
      "info": "URL for CTA of Slide 2"
    },
    {
      "type": "checkbox",
      "id": "enable_cta_3",
      "label": "Enable CTA for Slide 3",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text_3",
      "label": "CTA Text 3",
      "info": "Text for CTA of Slide 3"
    },
    {
      "type": "url",
      "id": "cta_url_3",
      "label": "CTA URL 3",
      "info": "URL for CTA of Slide 3"
    }
  ],
  "presets": [
    {
      "name": "Hero Section",
      "category": "Custom Sections",
      "settings": {
        "swiper_image_1": "shopify://shop_images/swiper_1.jpg",
        "swiper_image_2": "shopify://shop_images/swiper_2.jpg",
        "swiper_image_3": "shopify://shop_images/swiper_3.jpg",
        "enable_cta_1": true,
        "cta_text_1": "Learn More",
        "cta_url_1": "https://example.com/slide1",
        "enable_cta_2": true,
        "cta_text_2": "Shop Now",
        "cta_url_2": "https://example.com/slide2",
        "enable_cta_3": true,
        "cta_text_3": "Discover More",
        "cta_url_3": "https://example.com/slide3"
      }
    }
  ]
}
{% endschema %}
